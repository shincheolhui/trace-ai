아래는 **PRD 최종본 + 기능 정의서 + 요구사항 명세서 + 아키텍처 설계서 + LangGraph 워크플로우 + API 명세 + 로그/감사 설계**를 기준으로 정리한
**TRACE-AI 프로젝트 – 10. 테스트 계획서 (Test Plan)** 입니다.

요청하신 대로 **Notion 및 프로젝트 루트(`docs/10_TEST_PLAN.md`)에 그대로 붙여넣어 사용 가능한 Markdown 형식**이며,
**제품 품질·신뢰·통제·감사 관점에서 반드시 검증해야 할 항목**을 체계적으로 정의합니다.

---

# TRACE-AI

## 09. 테스트 계획서 (Test Plan)

---

## 1. 문서 개요

| 항목    | 내용                                       |
| ----- | ---------------------------------------- |
| 프로젝트명 | TRACE-AI                                 |
| 문서 목적 | TRACE-AI의 기능·통제·신뢰성을 검증하기 위한 테스트 계획 정의   |
| 대상 독자 | 개발자, QA, 기술 리드, 해커톤 심사위원                 |
| 문서 형식 | Markdown (Notion / GitHub 호환)            |
| 기준 문서 | PRD, 기능 정의서, 요구사항 명세서, 아키텍처 설계서, API 명세서 |
| 범위    | 해커톤 MVP 기준 테스트                           |

---

## 2. 테스트 목표

TRACE-AI 테스트의 핵심 목표는 다음과 같다.

1. **기능 적합성 검증**

   * 정의된 모든 핵심 기능이 요구사항대로 동작함을 증명
2. **통제 보장**

   * 승인 없는 실행이 발생하지 않음을 검증
3. **근거 기반 판단 검증**

   * 모든 판단 결과에 근거(Evidence)가 포함됨을 확인
4. **추적·감사 가능성 검증**

   * run_id 기준으로 전 과정 재현 가능
5. **엔터프라이즈 신뢰성 확보**

   * 오류 발생 시에도 로그·감사가 유지됨을 확인

---

## 3. 테스트 범위 (Scope)

### 3.1 In-Scope

* 지식 저장소 업로드 파이프라인
* 규정 위반 감지
* 장애 RCA
* 실행 계획 생성
* 승인(Human-in-the-loop)
* 실행 통제
* 로그 및 감사 기록

---

### 3.2 Out-of-Scope

* 대규모 부하/스트레스 테스트
* 실시간 운영 모니터링
* SSO/RBAC 연동 테스트
* 실운영 데이터 검증

---

## 4. 테스트 환경

| 항목      | 구성               |
| ------- | ---------------- |
| Backend | FastAPI (Python) |
| Agent   | LangGraph        |
| UI      | Chainlit         |
| 지식 저장소  | FAISS (Local)    |
| 테스트 데이터 | Mock 문서 / 샘플 로그  |
| 테스트 방식  | 수동 + 부분 자동화      |

---

## 5. 테스트 유형 분류

| 유형        | 목적                 |
| --------- | ------------------ |
| 기능 테스트    | 기능 요구사항 충족 여부      |
| 워크플로우 테스트 | LangGraph 상태 전이 검증 |
| 승인 테스트    | 실행 통제 검증           |
| 근거 테스트    | Evidence 제공 여부     |
| 로그 테스트    | 실행 이력 추적           |
| 감사 테스트    | 감사 기록 생성 여부        |
| 오류 테스트    | 예외 상황 대응           |

---

## 6. 기능 테스트 케이스

---

## 6.1 지식 저장소 테스트

### TC-01 지식 저장소 문서 업로드

| 항목    | 내용                |
| ----- | ----------------- |
| 목적    | 문서 업로드 및 적재 검증    |
| 사전 조건 | Admin 권한          |
| 절차    | 문서 업로드 요청         |
| 기대 결과 | doc_id 생성 및 저장 완료 |
| 중요도   | High              |

---

### TC-02 지식 저장소 검색

| 항목    | 내용           |
| ----- | ------------ |
| 목적    | 검색 결과 반환     |
| 절차    | 검색 요청        |
| 기대 결과 | 유사도 기반 결과 반환 |
| 중요도   | High         |

---

## 6.2 규정 위반 감지 테스트

### TC-03 규정 위반 판단

| 항목    | 내용            |
| ----- | ------------- |
| 목적    | 규정 위반 탐지      |
| 절차    | 정책 위반 입력      |
| 기대 결과 | 위반 여부 + 근거 제시 |
| 중요도   | High          |

---

### TC-04 근거 누락 방지

| 항목    | 내용          |
| ----- | ----------- |
| 목적    | 근거 없는 판단 방지 |
| 절차    | 근거 부족 입력    |
| 기대 결과 | “잠재적 위반” 처리 |
| 중요도   | Critical    |

---

## 6.3 장애 RCA 테스트

### TC-05 RCA 결과 생성

| 항목    | 내용          |
| ----- | ----------- |
| 목적    | 장애 원인 가설 생성 |
| 절차    | 로그 업로드      |
| 기대 결과 | 복수 가설 + 근거  |
| 중요도   | High        |

---

## 6.4 실행 계획 및 승인 테스트

### TC-06 실행 계획 생성

| 항목    | 내용             |
| ----- | -------------- |
| 목적    | Action Plan 생성 |
| 기대 결과 | 단계별 실행 계획      |
| 중요도   | High           |

---

### TC-07 승인 없는 실행 차단

| 항목    | 내용       |
| ----- | -------- |
| 목적    | 승인 통제 검증 |
| 절차    | 승인 미수행   |
| 기대 결과 | 실행 불가    |
| 중요도   | Critical |

---

### TC-08 승인 후 실행

| 항목    | 내용        |
| ----- | --------- |
| 목적    | 승인된 단계 실행 |
| 절차    | 승인 수행     |
| 기대 결과 | 승인 단계만 실행 |
| 중요도   | Critical  |

---

## 6.5 LangGraph 워크플로우 테스트

### TC-09 상태 전이 검증

| 항목    | 내용                 |
| ----- | ------------------ |
| 목적    | Orchestrator 흐름 검증 |
| 기대 결과 | 설계된 순서대로 상태 이동     |
| 중요도   | High               |

---

### TC-10 승인 대기/재개 검증

| 항목    | 내용         |
| ----- | ---------- |
| 목적    | 중단 후 재개    |
| 기대 결과 | 승인 후 정상 재개 |
| 중요도   | High       |

---

## 6.6 로그 및 감사 테스트

### TC-11 run_id 추적성 검증

| 항목    | 내용               |
| ----- | ---------------- |
| 목적    | 전 과정 추적          |
| 기대 결과 | 모든 로그에 동일 run_id |
| 중요도   | Critical         |

---

### TC-12 감사 기록 생성

| 항목    | 내용           |
| ----- | ------------ |
| 목적    | 감사 요약 생성     |
| 기대 결과 | 감사 데이터 조회 가능 |
| 중요도   | High         |

---

## 6.7 오류 및 예외 테스트

### TC-13 지식 저장소 오류

| 항목    | 내용            |
| ----- | ------------- |
| 목적    | 오류 대응         |
| 절차    | 저장소 오류 발생     |
| 기대 결과 | 오류 로그 + 감사 기록 |
| 중요도   | Medium        |

---

### TC-14 실행 실패 처리

| 항목    | 내용            |
| ----- | ------------- |
| 목적    | 부분 실패 처리      |
| 기대 결과 | PARTIAL 상태 기록 |
| 중요도   | Medium        |

---

## 7. 비기능 테스트 기준

| 항목     | 기준           |
| ------ | ------------ |
| 응답 시간  | 단일 요청 ≤ 60초  |
| UI 반응  | 사용자 체감 지연 없음 |
| 로그 신뢰성 | 누락 0건        |

---

## 8. 결함 분류 기준

| 등급       | 설명                      |
| -------- | ----------------------- |
| Critical | 승인 없는 실행, 근거 누락, 감사 미생성 |
| High     | 핵심 기능 실패                |
| Medium   | 일부 실패                   |
| Low      | UI/표현 오류                |

---

## 9. 테스트 완료 기준 (Exit Criteria)

다음 조건을 모두 만족해야 테스트를 완료한다.

1. Critical 결함 0건
2. High 결함 해결 또는 명확한 우회 설명
3. run_id 기반 로그·감사 재현 성공
4. 데모 시나리오 100% 재현 가능

---

## 10. 테스트 계획 요약 (One-liner)

> **TRACE-AI의 테스트는
> ‘근거 없는 판단, 승인 없는 실행, 기록 없는 결과’가
> 절대 발생하지 않음을 증명하는 과정이다.**

---

### 다음 단계

마지막 문서는 프로젝트 실행 및 구조 정의인

👉 **10. 프로젝트 계획 및 구조 정의서 (Project Plan & Structure)** 입니다.
