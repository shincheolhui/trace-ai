아래는 **PRD 최종본 + 2. 기능 정의서**를 기준으로 정리한
**TRACE-AI 프로젝트 – 3. 요구사항 명세서 (Requirements Specification)** 입니다.

요청하신 대로 **Notion 및 프로젝트 루트(`docs/03_REQUIREMENTS.md`)에 그대로 붙여넣어 사용 가능한 Markdown 형식**이며,
**제품 요구사항만 포함**하고 개발자 개인 환경(외부 차단/허용 등)은 **완전히 배제**했습니다.

---

# TRACE-AI

## 3. 요구사항 명세서 (Requirements Specification)

---

## 1. 문서 개요

| 항목    | 내용                                |
| ----- | --------------------------------- |
| 프로젝트명 | TRACE-AI                          |
| 문서 목적 | TRACE-AI 시스템이 반드시 충족해야 할 요구사항을 명세 |
| 대상 독자 | 개발자, 아키텍트, QA, 해커톤 심사위원           |
| 문서 형식 | Markdown (Notion / GitHub 호환)     |
| 기준 문서 | PRD 최종본, 기능 정의서                   |
| 범위    | 해커톤 MVP 기준 요구사항                   |

---

## 2. 요구사항 분류 기준

본 문서의 요구사항은 다음과 같이 분류한다.

* **FR (Functional Requirement)**: 기능 요구사항
* **NFR (Non-Functional Requirement)**: 비기능 요구사항
* **CR (Control Requirement)**: 통제/승인 요구사항
* **AR (Audit Requirement)**: 로그/감사 요구사항

각 요구사항은 **추적 가능성(Traceability)**을 위해 고유 ID를 가진다.

---

## 3. 기능 요구사항 (FR)

---

## 3.1 지식 저장소 관리 요구사항

### FR-01 지식 저장소 문서 업로드

* 관리자(Admin)는 내부 문서를 지식 저장소에 업로드할 수 있어야 한다.
* 시스템은 업로드된 문서를 저장하고 처리 상태를 반환해야 한다.

**검증 기준**

* 업로드 성공 시 문서 ID 반환
* 실패 시 명확한 오류 메시지 제공

---

### FR-02 문서 파싱 및 분할

* 시스템은 업로드된 문서에서 텍스트를 추출해야 한다.
* 추출된 텍스트는 의미 단위로 분할되어야 한다.

**검증 기준**

* 원문 문서와 파싱 결과의 정합성 확인 가능

---

### FR-03 임베딩 생성 및 저장

* 시스템은 분할된 텍스트에 대해 벡터 임베딩을 생성해야 한다.
* 생성된 임베딩은 지식 저장소(Vector DB)에 저장되어야 한다.

---

### FR-04 지식 저장소 검색

* 시스템은 사용자 요청에 따라 지식 저장소를 검색할 수 있어야 한다.
* 검색 결과는 유사도 기준으로 정렬되어야 한다.

---

## 3.2 규정 위반 감지 요구사항

### FR-05 규정 비교 분석

* 시스템은 입력된 문서 또는 요청을 정책 지식 저장소와 비교해야 한다.

---

### FR-06 위반 판단

* 시스템은 규정 위반 여부를 다음 중 하나로 판단해야 한다.

  * 위반
  * 비위반
  * 잠재적 위반

---

### FR-07 근거 제시

* 시스템은 위반 판단 결과에 대해 반드시 근거 문서를 제시해야 한다.
* 근거는 문서명 및 발췌 문장으로 제공되어야 한다.

---

### FR-08 수정 권고

* 위반 또는 잠재적 위반 시 수정 권고사항을 제공해야 한다.

---

## 3.3 장애 RCA 요구사항

### FR-09 로그 및 장애 정보 입력

* 시스템은 로그 파일 또는 장애 설명 텍스트를 입력받을 수 있어야 한다.

---

### FR-10 유사 장애 사례 검색

* 시스템은 장애 지식 저장소에서 유사 사례를 검색해야 한다.

---

### FR-11 원인 가설 생성

* 시스템은 장애 원인 가설을 복수 개 생성해야 한다.
* 가설은 우선순위로 정렬되어야 한다.

---

### FR-12 근거 기반 RCA 결과 제공

* 각 가설에는 관련 사례 또는 문서 근거가 포함되어야 한다.

---

## 3.4 업무 프로세스 실행 요구사항

### FR-13 실행 계획(Action Plan) 생성

* 시스템은 판단 결과를 기반으로 실행 계획을 생성해야 한다.
* 실행 계획은 단계별로 구성되어야 한다.

---

### FR-14 단계별 위험도 분류

* 시스템은 각 실행 단계의 위험도를 분류해야 한다.

  * 낮음 / 중간 / 높음

---

### FR-15 승인 요청 생성

* 위험도가 중간 이상인 단계에 대해 승인 요청을 생성해야 한다.

---

### FR-16 승인 후 실행

* 승인된 단계만 실행할 수 있어야 한다.
* 승인되지 않은 단계는 실행되지 않아야 한다.

---

## 4. 통제 요구사항 (CR)

---

### CR-01 승인 없는 실행 금지

* 시스템은 사람 승인 없이 외부 실행을 수행해서는 안 된다.

---

### CR-02 승인 이력 관리

* 승인/거부 이력은 변경 불가능한 형태로 기록되어야 한다.

---

### CR-03 실행 통제 일관성

* 실행 통제 정책은 모든 기능에 동일하게 적용되어야 한다.

---

## 5. 로그 및 감사 요구사항 (AR)

---

### AR-01 run_id 기반 추적

* 모든 요청은 고유한 run_id를 가져야 한다.
* run_id는 판단, 승인, 실행, 감사에 공통 적용되어야 한다.

---

### AR-02 판단 로그 기록

* 시스템은 판단 단계별 로그를 기록해야 한다.

---

### AR-03 실행 로그 기록

* 실행 시도 및 결과는 성공 여부와 관계없이 기록되어야 한다.

---

### AR-04 감사 기록 생성

* run 단위로 감사 기록을 생성해야 한다.
* 감사 기록에는 다음 항목이 포함되어야 한다.

  * 사용자
  * 판단 요약
  * 사용된 근거
  * 승인 내역
  * 실행 결과

---

### AR-05 감사 이력 조회

* 관리자는 감사 이력을 조회할 수 있어야 한다.

---

## 6. 비기능 요구사항 (NFR)

---

### NFR-01 신뢰성

* 시스템은 동일 입력에 대해 일관된 구조의 결과를 제공해야 한다.

---

### NFR-02 확장성

* 지식 저장소는 문서 수 증가에 따라 확장 가능해야 한다.

---

### NFR-03 응답 시간

* 단일 요청 처리 시간은 해커톤 데모 기준 1분 이내여야 한다.

---

### NFR-04 보안

* 민감 정보(API Key, 개인 정보)는 로그에 기록되지 않아야 한다.

---

### NFR-05 유지보수성

* 기능 추가 시 기존 워크플로우에 영향을 최소화해야 한다.

---

## 7. 요구사항 추적성 요약

| 기능 영역    | 요구사항 ID         |
| -------- | --------------- |
| 지식 저장소   | FR-01 ~ FR-04   |
| 규정 위반 감지 | FR-05 ~ FR-08   |
| 장애 RCA   | FR-09 ~ FR-12   |
| 업무 실행    | FR-13 ~ FR-16   |
| 통제       | CR-01 ~ CR-03   |
| 감사       | AR-01 ~ AR-05   |
| 비기능      | NFR-01 ~ NFR-05 |

---

## 8. 요구사항 명세 요약 (One-liner)

> **TRACE-AI는
> 지식 저장소 기반 판단, 승인 통제, run_id 감사 추적을
> 필수 요구사항으로 하는 엔터프라이즈 AI 시스템이다.**

---

### 다음 단계

다음 문서는 요구사항을 **사용자 인터페이스 관점으로 구체화하는**

👉 **4. 화면 설계서 (UI Specification)** 입니다.

계속 진행하시겠습니까?
